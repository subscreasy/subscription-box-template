<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>subscriptionBoxTemplate</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Actor">
    <link rel="stylesheet" href="assets/css/Bootstrap-Payment-Form.css">
    <link rel="stylesheet" href="assets/css/Footer-Dark.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Clean.css">
    <link rel="stylesheet" href="assets/css/Navigation-with-Button.css">
    <link rel="stylesheet" href="assets/css/Pretty-Product-List.css">
    <link rel="stylesheet" href="assets/css/Product-Details.css">
    <link rel="stylesheet" href="assets/css/Profile-Card.css">
    <link rel="stylesheet" href="assets/css/Profile-Edit-Form-1.css">
    <link rel="stylesheet" href="assets/css/Profile-Edit-Form.css">
    <link rel="stylesheet" href="assets/css/Registration-Form-with-Photo.css">
    <link rel="stylesheet" href="assets/css/styles.css">

    <!-- external javascript-->
    <script src="bundle.js"></script>
    <script src="assets/js/custom.js"></script>

</head>

<body>
    <div>
        <nav class="navbar navbar-light navbar-expand-md navigation-clean-button">
            <div class="container"><a class="navbar-brand" href="#">Company Name</a><button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse"
                    id="navcol-1">
                    <ul class="nav navbar-nav mr-auto">
                        <li class="nav-item" role="presentation"><a class="nav-link active" href="#">First Item</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" href="#">Second Item</a></li>
                        <li class="dropdown"><a class="dropdown-toggle nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" href="#">Dropdown </a>
                            <div class="dropdown-menu" role="menu"><a class="dropdown-item" role="presentation" href="#">First Item</a><a class="dropdown-item" role="presentation" href="#">Second Item</a><a class="dropdown-item" role="presentation" href="#">Third Item</a></div>
                        </li>
                    </ul><span class="navbar-text actions" id="loginSpan"> <a href="login.html" class="login">Log In</a><a class="btn btn-light action-button" role="button" href="signUp.html">Sign Up</a></span><span class="navbar-text" id="logoutSpan"><button class="btn btn-light" type="button" onclick="logout();">Logout</button></span>
                    <span
                        class="navbar-text" id="profileSpan"><a href="userProfile.html"><img src="assets/img/userIcon.png" width="35px" style="margin:10px;"></a></span>
                </div>
            </div>
        </nav>
    </div>
    <div style="background-color:rgb(241,247,252);">
        <div class="container">
        <form class="" action="submit">
            <!--<div class="form-row">-->
                <!--<div class="col-6 offset-3" style="padding:10px;padding-top:20px;">-->
                    <!--<div class="card">-->
                        <!--<div class="card-header">-->
                            <!--<h5 class="mb-0">Subscription Details</h5>-->
                        <!--</div>-->
                        <!--<div class="card-body">-->
                            <!--<div class="form-row">-->
                                <!--<div class="col"><label class="col-form-label">Browsymous Tester Edition 3 Minutes</label></div>-->
                            <!--</div>-->
                            <!--<hr>-->
                            <!--<div class="form-row">-->
                                <!--<div class="col"><label class="col-form-label">Price</label></div>-->
                                <!--<div class="col"><label class="col-form-label">0,99 TL</label></div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
            <div class="row">
                <div class="col-md-8" style="padding:10px;" id="order-details-box">
                    <div class="card">
                        <div class="card-header">
                            <i class="fa fa-shopping-cart" aria-hidden="true"></i> Alışveriş Sepeti
                        </div>
                        <ul class="list-group list-group-flush" id="shopping-cart-items">

                        </ul>
                        <div class="card-footer text-muted" id="shopping-cart-total">
                        </div>
                    </div>
                    <br/>
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Alıcı Bilgileri</h5>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="col">
                                    <div class="form-group"><label>Ad</label><input class="form-control" type="text" name="subscriber.name" autocomplete="additional-name"></div>
                                </div>
                                <div class="col">
                                    <div class="form-group"><label>Soyad</label><input class="form-control" type="text" name="subscriber.surname" autocomplete="family-name"></div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <div class="form-group"><label>E-posta</label><input class="form-control" type="email" name="subscriber.email" autocomplete="email"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Kargo Adresi</h5>
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="col">
                                    <div class="form-group"><label>Ad, Soyad *</label><input class="form-control" type="text" name="subscriber.shippingName" autocomplete="name"></div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <div class="form-group"><label>Adres *</label><input class="form-control" type="text" name="subscriber.shippingAddress" autocomplete="address-line1"></div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col">
                                    <div class="form-group"><label>Şehir *</label><input class="form-control" type="text" name="subscriber.shippingCity" autocomplete="address-level2"></div>
                                </div>
                                <div class="col">
                                    <div class="form-group"><label>Ülke *</label><select class="form-control" name="subscriber.shippingCountry" autocomplete="country-name"><optgroup label="This is a group"><option value="12" selected="">Turkey</option><option value="13">This is item 2</option><option value="14">This is item 3</option></optgroup></select></div>
                                </div>
                                <div class="col">
                                    <div class="form-group"><label>Posta Kodu *</label><input class="form-control" type="text" name="subscriber.shippingZipCode" autocomplete="postal-code"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4" style="padding:10px;padding-bottom:20px;" id="payment-details-box">
                    <div class="card credit-card-box">
                        <div class="card-header">
                            <h6 class="mb-0"><span class="panel-title-text">Ödeme Bilgileri </span></h6>
                            <!--<img class="img-fluid panel-title-image" src="assets/img/accepted_cards.png">-->
                        </div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="col-12">
                                    <div class="form-group"><label for="cardNumber">Kart numarası </label>
                                        <div class="input-group"><input class="form-control" type="tel" name="paymentCard.cardNumber" required="" placeholder="Valid Card Number" id="cardNumber" autocomplete="cc-number">
                                            <div class="input-group-append"><span class="input-group-text"><i class="fa fa-credit-card"></i></span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-7">
                                    <div class="form-group"><label for="cardExpiry">Son Kullanma Tarihi</label><input class="form-control" type="tel" name="expirationDate" required="" placeholder="MM / YY" id="cardExpiry" autocomplete="cc-exp"></div>
                                </div>
                                <div class="col-5 pull-right">
                                    <div class="form-group"><label for="cardCVC">Güvenlik Kodu</label><input class="form-control" type="tel" name="paymentCard.cvc" required="" placeholder="CVC" id="cardCVC" autocomplete="cc-csc"></div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-12"><button class="btn btn-success btn-block btn-lg" type="submit"><span id="price"></span> TL Öde</button></div>
                                <label id = "errorPlaceholder"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        </div>
    </div>
    <div class="footer-dark">
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-sm-6 col-md-3 item">
                        <h3>Services</h3>
                        <ul>
                            <li><a href="#">Web design</a></li>
                            <li><a href="#">Development</a></li>
                            <li><a href="#">Hosting</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6 col-md-3 item">
                        <h3>About</h3>
                        <ul>
                            <li><a href="#">Company</a></li>
                            <li><a href="#">Team</a></li>
                            <li><a href="#">Careers</a></li>
                        </ul>
                    </div>
                    <div class="col-md-6 item text">
                        <h3>Company Name</h3>
                        <p>Praesent sed lobortis mi. Suspendisse vel placerat ligula. Vivamus ac sem lacus. Ut vehicula rhoncus elementum. Etiam quis tristique lectus. Aliquam in arcu eget velit pulvinar dictum vel in justo.</p>
                    </div>
                    <div class="col item social"><a href="#"><i class="icon ion-social-facebook"></i></a><a href="#"><i class="icon ion-social-twitter"></i></a><a href="#"><i class="icon ion-social-snapchat"></i></a><a href="#"><i class="icon ion-social-instagram"></i></a></div>
                </div>
                <p class="copyright">Company Name © 2017</p>
            </div>
        </footer>
    </div>
    <script>
        bodyOnLoad();
    </script>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/Profile-Edit-Form.js"></script>
    <script>
        var orderItems = fetchOrderItems();

        var total = 0;
        for (i=0; i<orderItems.length; i++){
            var item = orderItems[i];
            if (item === null) continue;
            
            console.log(i + ": " + JSON.stringify(item));
            $("#shopping-cart-items").append(
                "<li class='list-group-item'>" +
                "<img src='https://lorempixel.com/80/80/' class='mr-2' width='80' height='80'>" +
                "<span class='align-top'>" + item.name + "</span>" +
                "<span class='float-right'>" + item.price + " TL " +
                "   <a class='btn rounded-circle' href='#navigation-main' aria-label='Skip to main navigation'><i class='fa fa-times-circle fa-3' aria-hidden='true' /></a>" +
                "</span></li>");
            total += item.price;
        }

        $("#shopping-cart-total").append("<i>TOTAL</i> <span class='float-right'>" + total + " TL</span>");
        $("#price").html(total);

        window.addEventListener('scroll', function(e) {
            var minPosition = $("#order-details-box").offset().top;

            var menu = $("#payment-details-box");
            var y = menu.offset().top;
            var x = menu.offset().left;
            if (window.pageYOffset >= y) {
                menu.css("position", "fixed");
                menu.css("top", "0px");
            } else {
                menu.css("position", "static");
                menu.css("top", "");
            }

            if (y < minPosition) {
                menu.css("position", "static");
                menu.css("top", minPosition + "px");
            }

            menu.css("left", x + "px");
        });

        var callback = function(error, data, response) {
            if (error) {
                console.error(error);
            } else {
                console.log('API called successfully. Returned data: ' + data);
            }
        };
        authorization.apiKey = authorizationTokenFunc();
        orderResourceApi.createOrderUsingPOST("orderRequest", callback);
    </script>
</body>

</html>